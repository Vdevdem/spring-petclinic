pipeline {
    agent any

    stages {
        stage ('Checkout'){
          steps {
              git branch: 'main', credentialsId: 'Git_FProject', url: 'https://github.com/Vdevdem/spring-petclinic.git'
          }
         }

        stage('hello'){
          steps {
                echo 'hello'
            }
          }

        stage('Create Docker Container') {
          steps {
                echo 'Start creating Docker Container'
                sh './mvnw spring-boot:build-image'
                sh 'docker tag spring-petclinic:2.7.0-SNAPSHOT docker:5000/petclinic:v$BUILD_NUMBER'
                echo 'End creating Docker Container'
               }
          }
    }
}
